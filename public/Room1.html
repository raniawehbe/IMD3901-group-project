<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMD3901 Term Project</title>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>  
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
    <script src="/js/aframe-environment-component.min.js"></script>
    <script src="/js/Room1.js"></script>
    
</head>
<body>

 
  <a-scene renderer="colorManagement: true">
        <a-assets timeout="10000">
          <a-asset-item id=  "lion_model"        response-type="arraybuffer"  src="/assets/Room1/lion.glb"></a-asset-item>
          <a-asset-item id=  "curtain_model"        response-type="arraybuffer"  src="/assets/Room1/curtain.glb"></a-asset-item>
          <a-asset-item id=  "drobe_model"        response-type="arraybuffer"  src="/assets/Room1/drobe.glb"></a-asset-item>
          <a-asset-item id=  "model_model"        response-type="arraybuffer"  src="/assets/Room1/model.glb"></a-asset-item>
          <a-asset-item id=  "dress_model"        response-type="arraybuffer"  src="/assets/Room1/dress.glb"></a-asset-item>
          <a-asset-item id=  "bed_model"        response-type="arraybuffer"  src="/assets/bed.glb"></a-asset-item>
          <a-asset-item id=  "chair_model"        response-type="arraybuffer"  src="/assets/Room1/chair.glb"></a-asset-item>
          <a-asset-item id=  "chair_model"        response-type="arraybuffer"  src="/assets/Room1/chair.glb"></a-asset-item>
          <a-asset-item id=  "diary_model"        response-type="arraybuffer"  src="/assets/diary.glb"></a-asset-item>
          <a-asset-item id=  "envelope_model"        response-type="arraybuffer"  src="/assets/envelope.glb"></a-asset-item>
          <a-asset-item id=  "rug_model"        response-type="arraybuffer"  src="/assets/rug.glb"></a-asset-item>
          <a-asset-item id=  "table_model"        response-type="arraybuffer"  src="/assets/table.glb"></a-asset-item>
          <a-asset-item id=  "wallcandle_model"        response-type="arraybuffer"  src="/assets/wall candle.glb"></a-asset-item>
          <a-asset-item id=  "window_model"        response-type="arraybuffer"  src="/assets/window.glb"></a-asset-item>
          <a-asset-item id=  "suitcase_model"        response-type="arraybuffer"  src="/assets/suitcase.glb"></a-asset-item>
          <a-asset-item id=  "Bag_model"        response-type="arraybuffer"  src="/assets/Bag.glb"></a-asset-item>
          <a-asset-item id=  "BOXOPEN_model"        response-type="arraybuffer"  src="/assets/BOXOPEN.glb"></a-asset-item>
          <a-asset-item id=  "jewlerybox_model"        response-type="arraybuffer"  src="/assets/jewlery box.glb"></a-asset-item>
          <a-asset-item id=  "Pin_model"        response-type="arraybuffer"  src="/assets/Pin.glb"></a-asset-item>
          <a-asset-item id=  "Perfume1_model"        response-type="arraybuffer"  src="/assets/Perfume 1.glb"></a-asset-item>
          <a-asset-item id=  "Candle_model"        response-type="arraybuffer"  src="/assets/Candle.glb"></a-asset-item>
          <a-asset-item id=  "Candle_model"        response-type="arraybuffer"  src="/assets/Candle.glb"></a-asset-item>  
          <a-asset-item id=  "scoll_model"        response-type="arraybuffer"  src="/assets/scoll.glb"></a-asset-item>
          <a-asset-item id=  "necklace_model"        response-type="arraybuffer"  src="/assets/necklace.glb"></a-asset-item>

          
          <!--the clues(maiars glb's arent working so i kept it here for now commented)-->
          <a-asset-item id=  "1600_clue_letter_model"        response-type="arraybuffer"  src="/assets/Clue_Texture/1600_clue_letter.glb"></a-asset-item>
          <a-asset-item id=  "1600_clue_card2_model"        response-type="arraybuffer"  src="/assets/Clue_Texture/1600_clue_card2.glb"></a-asset-item>-->
          <a-asset-item id=  "1600_clue_card_model"        response-type="arraybuffer"  src="/assets/Clue_Texture/1600_clue_card.glb"></a-asset-item>-->
         
          <!--<a-asset-item id=  "postcard_clue_model"        response-type="arraybuffer"  src="/assets/clue3.glb"></a-asset-item>-->
          <img id="Floor_Texture_img"  src="/assets/Room1/FLOOR.jpg" crossorigin="anonymous">
          <img id="Wall_Texture_img"   src="/assets/Room1/l.jpg"  crossorigin="anonymous">
          <img id="hint1_img"   src="/assets/hint1.png"  crossorigin="anonymous">
          <img id="hint2_img"   src="/assets/hint2.png"  crossorigin="anonymous">
          <img id="hint3_img"   src="/assets/hint3.png"  crossorigin="anonymous">
        </a-assets>

     <!-- <a-entity environment="preset:default;"></a-entity>-->
      <!--<a-entity sound= "src:#BackgroundSound; autoplay:true;"></a-entity>-->

      <a-entity id= "camera" camera="active: true" look-controls wasd-controls position="0 35 0" rotation="-45 150 0">
        <a-entity cursor="rayOrigin:mouse;" raycaster="far:50; interval:200; objects:.interactive">
          <a-entity light="type: ambient; color: #CCC"></a-entity>

        </a-entity>
        <a-gui-cursor id="cursor"
                raycaster="objects: [gui-interactable]"
                color="#00FFFFFF"
                fuse="false">
        </a-gui-cursor>

        <a-gui-flex-container id="questionBtn" class= "interactive" visibility
          flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0.7" width="3.5" height="4.5"
          position="-1.428 -0.710 -1.000" scale="0.142 0.041 0.082" >        
            <a-gui-button 
              width="2.5" height="0.75"
              onclick="buttonActionFunction" key-code="32"
              position="0 0.025 0" scale="1.242 4.282 1.027"
              value=" Proceed to Questions" 
              margin="0 0 0.05 0"
            >
            </a-gui-button>
        </a-gui-flex-container>



      </a-entity>
      
    </a-entity>
     
     
     <a-entity position="25.9588 0 0.20169">
      <a-entity id="diary" class="interactive" false-clue2 position="0 17.90097 0" rotation="26.682644519242437 -62.05533991723407 0" scale="0.09856 0.09856 0.09856" gltf-model="#diary_model"></a-entity>
      </a-entity>
      <a-entity id="lion" position="12 50.5 -66.3" rotation="0 0 0" scale="23.7 23.7 19.67" gltf-model="#lion_model"></a-entity>
      <a-entity id="curtain" position="-10.8 -7.5 53" rotation="0 -180 0" scale="-0.18 0.29 0.4" gltf-model="#curtain_model"></a-entity>
      <a-entity id="drobe" position="-13.2 30.7 81.67" rotation="0 90 -90" scale="8 4 5.7" gltf-model="#drobe_model"></a-entity>
      <a-entity id="model" position="-38.8 -6 -66" rotation="0 36.27 0" scale="1.8 3 1" gltf-model="#model_model"></a-entity>
      <a-entity id="dress" position="-11 11 41.5" rotation="0 90 0" scale="2.57 2.63 2.23" gltf-model="#dress_model"></a-entity>
      <a-entity id="bed" position="-48.7 7.568 -7.764" rotation="0 90 0" scale="9.78 19.6 11.79" gltf-model="#bed_model"></a-entity>
      <a-entity id="chair" position="3.2 15 -61" rotation="0 -180 0" scale="0.19 0.28 0.16" gltf-model="#chair_model"></a-entity>
      <a-entity id="chair" position="17 15 -61" rotation="0 -180 0" scale="0.19 0.28 0.16" gltf-model="#chair_model"></a-entity>
       <a-entity id="wallcandle" position="-66.7 47 -32.74" rotation="0 61.65 0" scale="0.197 0.2 0.227" gltf-model="#wallcandle_model"></a-entity>
      <a-entity id="wallcandle2" position="-66.7 47 16" rotation="0 61.65 0" scale="0.197 0.2 0.227" gltf-model="#wallcandle_model"></a-entity>
           
      <a-entity id="envelope" position="32.9843 18.02361 11.47743" rotation="0 159.93830372179366 0" scale="0.30913 0.30913 0.30913" gltf-model="#envelope_model"></a-entity>
      <a-entity id="table" position="31.25528 0.07438 -0.31083" rotation="0 -88.8863805054154 0" scale="1.46873 1.46873 1.46873" gltf-model="#table_model"></a-entity>
      <a-entity id="waredrobe2" position="-2.93206 -0.77395 -60.98832" rotation="-180 0 0" scale="-0.145 -0.145 -0.145" gltf-model="#waredrobe2_model"></a-entity>
      <a-entity id="Bag" position="-8.60471 28.63657 -51.07958" rotation="-180 0 0" scale="-0.52755 -0.52755 -0.52755" gltf-model="#Bag_model"></a-entity>
      <a-entity id="BOXOPEN" position="29.75119 0.438 34.53685" rotation="0 -110.75102292540274 0" scale="0.15 0.15 0.15" gltf-model="#BOXOPEN_model"></a-entity>
      <a-entity id="jewlerybox" position="-9.91374 12.15115 -51.14332" rotation="" scale="0.22173 0.22173 0.22173" gltf-model="#jewlerybox_model"></a-entity>
      <a-entity id="watch" position="-9.30594 39.20385 -50.24887" rotation="" scale="0.009 0.009 0.009" gltf-model="#watch_model"></a-entity>
      <a-entity id="Pin" position="-16.77304 29.35212 -48.96418" rotation="-89.85410622139135 179.9998479605043 179.9998479605043" scale="0.52477 0.52477 0.52477" gltf-model="#Pin_model"></a-entity>
      <a-entity id="perfume1" position="-7.01837 19.90191 -49.91869" rotation="" scale="0.27558 0.27558 0.27558" gltf-model="#Perfume1_model"></a-entity>
      <a-entity id="Candle" position="11 -1 50.5" rotation="0 0 0" scale="0.16 0.55 0.25" gltf-model="#Candle_model"></a-entity>
      <a-entity id="Candle" position="-35.2 -1 50.5" rotation="0 0 0" scale="0.16 0.55 0.25" gltf-model="#Candle_model"></a-entity>
      
      <a-entity id="necklace" position="-12.69791 20.69447 -53.01104" rotation="0 -90 0" scale="0.52137 0.52137 0.52137" gltf-model="#necklace_model"></a-entity>
      <a-entity id="scoll" position="28.72842 6.02001 30.36255" rotation="0 -117.5646370250985 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="28.62465 7.0782 34.56297" rotation="2.623000786108909 -88.71392020908101 -4.2295744436557365" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="29.83299 7.50673 30.24087" rotation="0 -90.1262611740785 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="26.47727 5.84172 36.21062" rotation="0.35236904400545627 -102.9078036678569 1.5383916799262602" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="26.76371 7.65326 38.64405" rotation="27.73688686228315 -110.14082287358842 2.7146740333298403" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="28.44465 5.97197 37.46476" rotation="0 -108.1406272107867 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="30.84822 6.52413 31.46218" rotation="0 -108.1406272107867 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="32.09432 5.98523 30.69343" rotation="0 -108.1406272107867 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="30.25523 5.60475 36.83747" rotation="0 -108.1406272107867 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="33.26309 6.40547 31.19619" rotation="0 -108.1406272107867 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>
      <a-entity id="scoll" position="30.3542 8.27774 37.46109" rotation="0 -108.1406272107867 0" scale="3.17399 3.17399 3.17399" gltf-model="#scoll_model"></a-entity>


      <a-entity id="suitcase" position="-29.72207 0.29448 -48.26217" rotation="0 26.389290128135457 0" scale="0.48 0.48 0.48" gltf-model="/assets/suitcase.glb"></a-entity>
      

      <a-entity id="clues">
        <a-entity  position = "30.667 0 29.770">
          <a-entity id="letter_clue" class= "interactive" add-ui add-text spinning-effect position="0 3.824 0" rotation="0 0 0" color="#ff0000" scale="2 2 2" gltf-model="#1600_clue_letter_model"     
                shadow >
          </a-entity> 
        </a-entity>

        <a-entity position="-7.64263 30.10749 0">
          <a-entity id="card_clue" class= "interactive" position="-38.513 28.144 -48.958" add-ui2 add-text2 spinning-effect2 rotation="0 0 0" scale="1.889 1.889 1.889" gltf-model="#1600_clue_card2_model"          
            shadow>
          </a-entity>
        </a-entity>

        <a-entity position="-30.24706 0 -46.50628">
          <a-entity id="postcard_clue"  class= "interactive"  position="-59.286 13.214 -78.500"  add-ui3 add-text3 spinning-effect3 rotation="0 0 0"  scale="2.626 2.626 2.626" gltf-model="#1600_clue_card_model"          
            shadow>
          </a-entity>
        </a-entity>


      </a-entity> 

      <!--<a-entity  position = "29.593 1.391 47.861" >
        <a-box id="room_unlock" class= "cube interactive" onclick="document.location='transition2D.html'" rotation="0 0 0" color="#ff00ff" scale="3 3 3"  
              shadow >
        </a-box> 
      </a-entity>-->

      <a-entity id="progress_ui" position="-50.832 56.386 -59.366" rotation="0 40.480 0" scale="1 1 1" >
        <a-entity geometry="primitive:box; width:3.0; height:1.2; depth:0.2;" scale="10.584 -11.372 1.583" material="color:#77593d;" position="-5.313 -0.094 2.490"></a-entity>
        <a-entity id = "clues_found" text="value:Clues Found: 0/3 ; 
                     color:white; font:roboto; width:25.52; anchor:left; baseline:top; wrapCount:13.43;" position="-18.242 1.69 2.848"></a-entity>

        <a-entity position="-5.030 -3.371 2.634" geometry="primitive: box; width: 2.5; height: 0.25" material="color: #000000" scale = "9.329 7.392 0.350" margin="0 0 0.05 0">
          <a-entity id="progressMeter" geometry="primitive: box; width: 0; height: 0.710 depth:0" material="color: #ed5b21" position="0 0 0" rotation="-90 0 0" scale="1 1 1" shadow="cast: false"></a-entity>
        </a-entity>
      </a-entity>

      <a-entity id="questions" position="-2.154 22.843 0" rotation="0 0 0">
        <a-entity id="question_plane" geometry="primitive:box; width: 15; height: 20.3 depth:0.9;" 
                  material="color:#d6931f;"
                  animation__color= "property:material.color; type:color; from:rgb(255, 0, 0); to:rgb(255, 255, 255);  dur:4000; easing:linear; startEvents: animation-start;"
                  animation__shake= "property:position.x; from:1; to:0; loop:4; dur:300; easing:linear; startEvents: shake-start;"
                shadow>

        <a-entity id="question1" position="-1.895 0 0.536">
        <a-entity text="value:Q#1 - Choose the Correct Answer: ; 
                     color:black; font:roboto; width:15.700; anchor:left; baseline:top; wrapCount:30.640;" position="-4.997 8.564 0.052"></a-entity>  
        <a-entity id = "question1_title" text="value:Montreal was established by a group of religious mystics from France named Paul de Chomedy and Jeanne Mance in: ; 
                     color: #270803; font:roboto; width:12.440; anchor:left; baseline:top; wrapCount:24.65;" position="-4.286 6.177 0.168"></a-entity>                   
        <a-entity id="question1_buttons"  position="1.299 -0.430 0" scale="1 3.516 1" >   
  
            <a-gui-radio id = "question1_choice1" class= "interactive" position="2.609 0.113 0.01" scale= "6.704 1.397 1" background-color= "#ffffff"
             material= "blending: additive; visible:false"
            width="2.5" height="0.75"
            value="1666"
            font-size="0.3"
            margin="0 0 0.05 0" shadow
            >
            </a-gui-radio>   
            <a-gui-radio id = "question1_choice2" class= "button interactive" question1_correct position="2.609 -0.997 0.01" scale= "6.704 1.397 1" background-color= "#ffffff"
            material= "blending: additive; visible:false"
            width="2.5" height="0.75"
            value="1642"
            font-size="0.3"
            margin="0 0 0.05 0" shadow
            >
            </a-gui-radio> 
            <a-gui-button id = "question1_end" class="interactive"  next_question  position="0.715 -2.1 0.01" scale= "3.609 1.142 0.853" 
                width="2.5" height="0.75"
                key-code="32"
                position="0 0.025 0" scale="1.242 4.282 1.027"
                value="Next Question"
                margin="0 0 0.05 0"
              >
            </a-gui-button>

          </a-entity> 
        </a-entity> 
        <a-entity id="question2" position="-1.895 0 0.536" visible="false">
          <a-entity text="value:Q#2 - Choose the Correct Answer: ; 
                     color:black; font:roboto; width:15.700; anchor:left; baseline:top; wrapCount:30.640;" position="-4.997 8.564 0.052"></a-entity>  
          <a-entity id = "question2_title" text="value: In 1663, _______ sent 800 women to Quebec to marry them off to French Canadian Men; 
                     color: #270803; font:roboto; width:12.440; anchor:left; baseline:top; wrapCount:24.65;" position="-4.286 6.177 0.168"></a-entity>                   
          <a-entity id="question2_buttons"  position="1.299 -0.430 0" scale="1 3.516 1" >   
  
            <a-gui-radio id = "question2_choice1" class= "" question2_correct position="2.609 0.113 0.01" scale= "6.704 1.397 1" background-color= "#ffffff"
            width="2.5" height="0.75"
            material= "blending: additive; visible:false"
            value="France"
            font-size="0.220"
            margin="0 0 0.05 0" shadow
            >
            </a-gui-radio>   
            <a-gui-radio id = "question2_choice2" class= "" position="2.609 -0.997 0.01" scale= "6.704 1.397 1" background-color= "#ffffff"
            width="2.5" height="0.75"
            material= "blending: additive; visible:false"
            value="England"
            font-size="0.220"
            margin="0 0 0.05 0" shadow
            >
            </a-gui-radio> 
            <a-gui-button id = "question2_end2" class= "interactive" next_question2 position="0.715 -2.1 0.01" scale= "3.609 1.142 0.853" 
                width="2.5" height="0.75"
                onclick="" key-code="32"
                position="0 0.025 0" scale="1.242 4.282 1.027"
                value="Next Question"
                margin="0 0 0.05 0"
              >
            </a-gui-button>
          </a-entity> 
        </a-entity>
        <a-entity id="question3" position="-1.895 0 0.536" visible="false">
          <a-entity text="value:Q#3 - Choose the Correct Answer: ; 
                     color:black; font:roboto; width:15.700; anchor:left; baseline:top; wrapCount:30.640;" position="-4.997 8.564 0.052"></a-entity>  
          <a-entity id = "question3_title" text="value: The oldest commercial corporation in North America, established in 1670, is called: ; 
                     color: #270803; font:roboto; width:12.440; anchor:left; baseline:top; wrapCount:24.65;" position="-4.286 6.177 0.168"></a-entity>                   
          <a-entity id="question3_buttons"  position="1.299 -0.430 0" scale="1 3.516 1" >   
  
            <a-gui-radio id = "question3_choice1" class= "" position="2.609 0.113 0.01" scale= "6.704 1.397 1" background-color= "#ffffff"
            width="2.5" height="0.75"
            material= "blending: additive; visible:false"
            value="Aldo"
            font-size="0.180"
            margin="0 0 0.05 0" shadow
            >
            </a-gui-radio>   
            <a-gui-radio id = "question3_choice2" class= "" question3_correct position="2.609 -0.997 0.01" scale= "6.704 1.397 1" background-color= "#ffffff"
            width="2.5" height="0.75"
            material= "blending: additive; visible:false"
            value="Hudson's Bay"
            font-size="0.180"
            margin="0 0 0.05 0" shadow
            >
            </a-gui-radio> 
            <a-gui-button id = "question3_end3" class= "interactive" position="0.715 -2.1 0.01" scale= "3.609 1.142 0.853" 
                width="2.5" height="0.75"
                onclick="document.location='transition2D.html'"
                key-code="32"
                position="0 0.025 0" scale="1.242 4.282 1.027"
                value="Unlock Room"
                margin="0 0 0.05 0"
              >
            </a-gui-button>
          </a-entity> 
        </a-entity>
        </a-entity>

    </a-entity>

      <a-entity id="room">
        <a-entity class="ground" geometry="primitive: plane; width: 90; height: 90" material="src:#Floor_Texture_img"position="-10.44656 0 -7.29101" rotation="-90 0 0" scale="1.4 1.4 1.4" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: box; width: 90; height: 70; depth:1" material="src:#Wall_Texture_img" position="-70.31305 47 -6.711" rotation="0 90 0" scale="1.4 1.4 1.4" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: box; width: 90; height: 70; depth:1" material="src:#Wall_Texture_img" position="49.05643 47 -6.71141" rotation="0 -90 0" scale="1.4 1.4 1.4" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: box; width: 90; height: 70; depth:1" material="src:#Wall_Texture_img" position="-13.29203 47 55.20319" rotation="0 180 0" scale="1.4 1.4 1.4" shadow="cast: false"></a-entity>
        <a-entity class="wall" geometry="primitive: box; width: 90; height: 70; depth:1" material="src:#Wall_Texture_img" position="-13.29203 47 -68.88783" rotation="0 -180 0" scale="1.4 1.4 1.4" shadow="cast: false"></a-entity>
      </a-entity>
     
    

    </a-scene>
    <script>
      // On mobile remove elements that are resource heavy
      /*var isMobile = AFRAME.utils.device.isMobile();

     // if (isMobile) {
       // var particles = document.getElementById("particles");
       // particles.parentNode.removeChild(particles);
     // }

      document.querySelector("a-scene").addEventListener("loaded", onSceneLoad);*/
    

      var currentAnim = "animation-start";
      var currentAnim2 = "shake-start";

      document.querySelector("#question1_choice1").addEventListener("click", function() {
        document.getElementById("question_plane").emit(currentAnim);
        document.getElementById("question_plane").emit(currentAnim2);

        currentAnim = "animation-start";
        currentAnim2 = "shake-start";

      });

      document.querySelector("#question2_choice2").addEventListener("click", function() {
        document.getElementById("question_plane").emit(currentAnim);
        document.getElementById("question_plane").emit(currentAnim2);

        currentAnim = "animation-start";
        currentAnim2 = "shake-start";

      });

      document.querySelector("#question3_choice1").addEventListener("click", function() {
        document.getElementById("question_plane").emit(currentAnim);
        document.getElementById("question_plane").emit(currentAnim2);

        currentAnim = "animation-start";
        currentAnim2 = "shake-start";

      });



    </script>
  
  </body>

</html>